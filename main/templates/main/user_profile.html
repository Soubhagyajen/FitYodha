{% extends 'base.html' %}
{% load static %}
{% block title %}{{ profile_user.username }} | Profile{% endblock %}

{% block content %}
<section class="min-h-screen bg-gradient-to-br from-maroon-900 via-steel-900 to-maroon-800 py-12">
  <div class="max-w-3xl mx-auto px-4 text-white">
    <div class="text-center mb-8">
      <h2 class="text-3xl font-warrior text-saffron-300">🧍‍♂️ {{ profile_user.username }}</h2>
    </div>

{% if user.profile.image_url  %}
  <img src="{{ profile.image_url }}" alt="Profile Picture" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-saffron-400 object-cover">
  {% comment %} <p>Profile Image URL: {{ profile.image_url }}</p> {% endcomment %}

{% else %}

  <img src="{% static 'images/default_profile.png' %}" alt="Default Picture" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-saffron-400 object-cover">
  <p>Profile Image URL: {{ profile.image_url }}</p>
{% endif %}
<a href="{% url 'upload_profile_picture' %}" class="text-saffron-400 hover:underline">Upload Profile Picture</a>

    <h3 class="text-xl font-semibold text-gold-400 mb-4">📜 Kathas</h3>
    {% for post in posts %}
      <div class="bg-steel-800 rounded-lg p-4 mb-4 shadow-md">
        <h4 class="text-xl font-semibold text-saffron-300">{{ post.title }}</h4>
        <p class="text-sm text-gray-400">🗓️ {{ post.created_at|date:"M d, Y" }}</p>
        <p class="mt-2">{{ post.content|truncatewords:30 }}</p>
        <a href="{% url 'blog_detail' post.pk %}" class="text-saffron-300 hover:underline text-sm mt-2 inline-block">Read More →</a>
      </div>
    {% empty %}
      <p class="text-gray-300 text-center">No blogs written yet.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
